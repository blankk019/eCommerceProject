<div class="product-card h-100 position-relative">
  <!-- Wishlist Heart -->
  <button
    class="wishlist-btn"
    (click)="toggleWishList(product.id)"
    [class.active]="isInWishlist"
    aria-label="Add to wishlist"
  >
    <i [class]="isInWishlist ? 'fa-solid fa-heart' : 'fa-regular fa-heart'"></i>
  </button>

  <!-- Product Image -->
  <div
    class="product-image-wrapper"
    [routerLink]="['/product-details', product.id]"
  >
    <img
      [src]="product.imageCover"
      [alt]="product.title"
      class="product-image"
      loading="lazy"
    />
    @if (product.ratingsAverage >= 4.5) {
    <span class="badge-hot">Hot</span>
    }
  </div>

  <!-- Product Details -->
  <div class="product-body">
    <p class="product-category">{{ product.category.name }}</p>
    <h6 class="product-title" [title]="product.title">
      {{ product.title.split(" ").slice(0, 4).join(" ") }}
    </h6>

    <!-- Rating & Price -->
    <div class="product-meta">
      <div class="product-rating">
        <i class="fas fa-star"></i>
        <span>{{ product.ratingsAverage }}</span>
        <span class="rating-count">({{ product.ratingsQuantity || 0 }})</span>
      </div>
      <div class="product-price">
        <span class="price-current">{{ product.price }} EGP</span>
      </div>
    </div>

    <!-- Add to Cart Button -->
    <button class="btn-add-cart" (click)="addToCart(product.id)">
      <i class="fa-solid fa-cart-plus"></i>
      <span>Add to Cart</span>
    </button>
  </div>
</div>
