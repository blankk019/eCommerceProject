import{a as I}from"./chunk-TJ4BVV6H.js";import{b as D,c,d as G,e as V,f as x,g as E,i as M,k as j,l as k,s as $}from"./chunk-ROHYIB4L.js";import{l as O}from"./chunk-TBT3VMRX.js";import{c as L}from"./chunk-M5IR3BOK.js";import{h as A}from"./chunk-SYWVFSAT.js";import{Db as N,Eb as S,Mb as a,Ub as q,Va as o,Wb as b,ca as P,ga as T,hb as p,kb as f,ob as _,tb as l,ub as r,vb as F}from"./chunk-DFJFQNBO.js";var y=(t,i)=>({"is-valid":t,"is-invalid":i});function z(t,i){t&1&&(l(0,"p",18),a(1,"Name is Required"),r())}function B(t,i){t&1&&(l(0,"p",18),a(1,"Name should be more than or equal 3 characters"),r())}function H(t,i){t&1&&(l(0,"p",18),a(1,"Name should be less than or equal 20 characters"),r())}function J(t,i){if(t&1&&(l(0,"div",7),p(1,z,2,0,"p",18)(2,B,2,0,"p",18)(3,H,2,0,"p",18),r()),t&2){let n,e=S();o(),_((n=e.registerForm.get("name"))!=null&&n.getError("required")?1:(n=e.registerForm.get("name"))!=null&&n.getError("minlength")?2:(n=e.registerForm.get("name"))!=null&&n.getError("maxlength")?3:-1)}}function K(t,i){t&1&&(l(0,"p",18),a(1,"Email is Required"),r())}function Q(t,i){t&1&&(l(0,"p",18),a(1,"Enter Valid Email"),r())}function U(t,i){if(t&1&&(l(0,"div",7),p(1,K,2,0,"p",18)(2,Q,2,0,"p",18),r()),t&2){let n,e=S();o(),_((n=e.registerForm.get("email"))!=null&&n.getError("required")?1:(n=e.registerForm.get("email"))!=null&&n.getError("email")?2:-1)}}function W(t,i){t&1&&(l(0,"p",18),a(1,"password is Required"),r())}function X(t,i){t&1&&(l(0,"p",18),a(1,"Enter Valid Password"),r())}function Z(t,i){if(t&1&&(l(0,"div",7),p(1,W,2,0,"p",18)(2,X,2,0,"p",18),r()),t&2){let n,e=S();o(),_((n=e.registerForm.get("password"))!=null&&n.getError("required")?1:(n=e.registerForm.get("password"))!=null&&n.getError("pattern")?2:-1)}}function ee(t,i){t&1&&(l(0,"div",7)(1,"p",18),a(2,"Passwords do not match"),r()())}function te(t,i){t&1&&(l(0,"p",18),a(1,"Phone is Required"),r())}function re(t,i){t&1&&(l(0,"p",18),a(1,"Enter Valid Phone Number"),r())}function ne(t,i){if(t&1&&(l(0,"div",7),p(1,te,2,0,"p",18)(2,re,2,0,"p",18),r()),t&2){let n,e=S();o(),_((n=e.registerForm.get("phone"))!=null&&n.getError("required")?1:(n=e.registerForm.get("phone"))!=null&&n.getError("pattern")?2:-1)}}function ie(t,i){t&1&&F(0,"span",17)}var Y=class t{_AuthService=P(I);_Router=P(L);_ToastrService=P(O);isLoading=!1;registerSub;registerForm=new x({name:new E(null,[c.required,c.minLength(3),c.maxLength(10)]),email:new E(null,[c.required,c.email]),password:new E(null,[c.required,c.pattern(/^\w{6,}$/)]),rePassword:new E(null),phone:new E(null,[c.required,c.pattern(/^01[0125][0-9]{8}$/)])},this.confirmPassword);register(){this.registerForm.valid?(this.isLoading=!0,this.registerSub=this._AuthService.setRegisterForm(this.registerForm.value).subscribe({next:i=>{console.log(i),i.message==="success"&&(this._ToastrService.success("Registration successful! You can now log in.","Cyber"),setTimeout(()=>{this._Router.navigate(["/login"])},1500)),this.isLoading=!1}})):(this.registerForm.setErrors({mismatch:!0}),this.registerForm.markAllAsTouched())}confirmPassword(i){return i.get("password")?.value===i.get("rePassword")?.value?null:{mismatch:!0}}ngOnDestroy(){this.registerSub?.unsubscribe()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=T({type:t,selectors:[["app-register"]],standalone:!0,features:[q],decls:33,vars:28,consts:[[1,"d-flex","justify-content-center","align-items-center"],[1,"auth-form-container"],[1,"text-main","mb-5"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","name",1,"form-label","fw-semibold"],["type","text","id","name","formControlName","name",1,"form-control",3,"ngClass"],[1,"alert","alert-danger","mt-1"],["for","email",1,"form-label","fw-semibold"],["type","email","id","email","formControlName","email",1,"form-control",3,"ngClass"],["for","password",1,"form-label","fw-semibold"],["type","password","id","password","formControlName","password",1,"form-control",3,"ngClass"],["for","rePassword",1,"form-label","fw-semibold"],["type","password","id","rePassword","formControlName","rePassword",1,"form-control",3,"ngClass"],["for","phone",1,"form-label","fw-semibold"],["type","tel","id","phone","formControlName","phone",1,"form-control",3,"ngClass"],["type","submit",1,"btn","text-white","d-block","ms-auto","bg-main",3,"disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"m-0"]],template:function(n,e){if(n&1&&(l(0,"section",0)(1,"div",1)(2,"h2",2),a(3,"Register Now :"),r(),l(4,"form",3),N("ngSubmit",function(){return e.register()}),l(5,"div",4)(6,"label",5),a(7,"Name"),r(),F(8,"input",6),p(9,J,4,1,"div",7),r(),l(10,"div",4)(11,"label",8),a(12,"Email"),r(),F(13,"input",9),p(14,U,3,1,"div",7),r(),l(15,"div",4)(16,"label",10),a(17,"Password"),r(),F(18,"input",11),p(19,Z,3,1,"div",7),r(),l(20,"div",4)(21,"label",12),a(22,"Confirm Password"),r(),F(23,"input",13),p(24,ee,3,0,"div",7),r(),l(25,"div",4)(26,"label",14),a(27,"Phone"),r(),F(28,"input",15),p(29,ne,3,1,"div",7),r(),l(30,"button",16),a(31,` Register
`),p(32,ie,1,0,"span",17),r()()()()),n&2){let s,C,m,h,u,v,d,R,g,w;o(4),f("formGroup",e.registerForm),o(4),f("ngClass",b(13,y,!((s=e.registerForm.get("name"))!=null&&s.errors)&&(((s=e.registerForm.get("name"))==null?null:s.touched)||((s=e.registerForm.get("name"))==null?null:s.dirty)),((s=e.registerForm.get("name"))==null?null:s.errors)&&(((s=e.registerForm.get("name"))==null?null:s.touched)||((s=e.registerForm.get("name"))==null?null:s.dirty)))),o(),_((C=e.registerForm.get("name"))!=null&&C.errors&&((C=e.registerForm.get("name"))!=null&&C.touched||(C=e.registerForm.get("name"))!=null&&C.dirty)?9:-1),o(4),f("ngClass",b(16,y,!((m=e.registerForm.get("email"))!=null&&m.errors)&&(((m=e.registerForm.get("email"))==null?null:m.touched)||((m=e.registerForm.get("email"))==null?null:m.dirty)),((m=e.registerForm.get("email"))==null?null:m.errors)&&(((m=e.registerForm.get("email"))==null?null:m.touched)||((m=e.registerForm.get("email"))==null?null:m.dirty)))),o(),_((h=e.registerForm.get("email"))!=null&&h.errors&&((h=e.registerForm.get("email"))!=null&&h.touched||(h=e.registerForm.get("email"))!=null&&h.dirty)?14:-1),o(4),f("ngClass",b(19,y,!((u=e.registerForm.get("password"))!=null&&u.errors)&&(((u=e.registerForm.get("password"))==null?null:u.touched)||((u=e.registerForm.get("password"))==null?null:u.dirty)),((u=e.registerForm.get("password"))==null?null:u.errors)&&(((u=e.registerForm.get("password"))==null?null:u.touched)||((u=e.registerForm.get("password"))==null?null:u.dirty)))),o(),_((v=e.registerForm.get("password"))!=null&&v.errors&&((v=e.registerForm.get("password"))!=null&&v.touched||(v=e.registerForm.get("password"))!=null&&v.dirty)?19:-1),o(4),f("ngClass",b(22,y,!((d=e.registerForm.get("rePassword"))!=null&&d.errors)&&(((d=e.registerForm.get("rePassword"))==null?null:d.touched)||((d=e.registerForm.get("rePassword"))==null?null:d.dirty)),((d=e.registerForm.get("rePassword"))==null?null:d.errors)&&(((d=e.registerForm.get("rePassword"))==null?null:d.touched)||((d=e.registerForm.get("rePassword"))==null?null:d.dirty)))),o(),_(e.registerForm.getError("mismatch")&&((R=e.registerForm.get("rePassword"))!=null&&R.touched||(R=e.registerForm.get("rePassword"))!=null&&R.dirty)?24:-1),o(4),f("ngClass",b(25,y,!((g=e.registerForm.get("phone"))!=null&&g.errors)&&(((g=e.registerForm.get("phone"))==null?null:g.touched)||((g=e.registerForm.get("phone"))==null?null:g.dirty)),((g=e.registerForm.get("phone"))==null?null:g.errors)&&(((g=e.registerForm.get("phone"))==null?null:g.touched)||((g=e.registerForm.get("phone"))==null?null:g.dirty)))),o(),_((w=e.registerForm.get("phone"))!=null&&w.errors&&((w=e.registerForm.get("phone"))!=null&&w.touched||(w=e.registerForm.get("phone"))!=null&&w.dirty)?29:-1),o(),f("disabled",e.registerForm.invalid||e.isLoading),o(2),_(e.isLoading?32:-1)}},dependencies:[$,M,D,G,V,j,k,A]})};export{Y as RegisterComponent};
